<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh to√°n - Network Equipment Store</title>
    <link rel="stylesheet" href="../CSS/main.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <a class="navbar-brand" href="index.html">üåê NetEquip</a>
            <ul class="navbar-nav">
                <li><a href="index.html">Trang ch·ªß</a></li>
                <li><a href="cart.html">Gi·ªè h√†ng</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <h1>Thanh to√°n</h1>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 2rem;">
            <!-- Left column - Form -->
            <div>
                <h2>Th√¥ng tin giao h√†ng</h2>
                <form id="checkout-form">
                    <div class="form-group">
                        <label for="name">T√™n ng∆∞·ªùi nh·∫≠n:</label>
                        <input type="text" id="name" name="name" required>
                    </div>

                    <div class="form-group">
                        <label for="phone">S·ªë ƒëi·ªán tho·∫°i:</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>

                    <div class="form-group">
                        <label for="address">ƒê·ªãa ch·ªâ:</label>
                        <textarea id="address" name="address" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>

                    <h2>Ph∆∞∆°ng th·ª©c thanh to√°n</h2>
                    <div class="form-group">
                        <label>
                            <input type="radio" name="payment" value="credit-card" checked>
                            Th·∫ª t√≠n d·ª•ng
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="radio" name="payment" value="bank-transfer">
                            Chuy·ªÉn kho·∫£n ng√¢n h√†ng
                        </label>
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="radio" name="payment" value="cash">
                            Ti·ªÅn m·∫∑t
                        </label>
                    </div>

                    <button type="submit" class="btn btn-primary">X√°c nh·∫≠n ƒë∆°n h√†ng</button>
                </form>
            </div>

            <!-- Right column - Order summary -->
            <div>
                <h2>T√≥m t·∫Øt ƒë∆°n h√†ng</h2>
                <table style="width: 100%; border: 1px solid #ddd;">
                    <tbody id="order-items">
                    </tbody>
                    <tfoot>
                        <tr>
                            <td style="padding: 1rem; border-top: 2px solid #ff69b4;"><strong>T·ªïng ti·ªÅn:</strong></td>
                            <td style="padding: 1rem; border-top: 2px solid #ff69b4; text-align: right; color: #ff69b4; font-weight: bold; font-size: 1.2rem;">$<span id="total">0</span></td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>

        <div id="result"></div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Network Equipment Store. All rights reserved.</p>
    </footer>

    <script src="../js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const cart = getCart();
        const itemsContainer = document.getElementById('order-items');
        const totalSpan = document.getElementById('total');
        
        let total = 0;
        cart.forEach(item => {
            const subtotal = item.price * (item.quantity || 1);
            total += subtotal;
            
            const row = document.createElement('tr');
            row.innerHTML = `
                <td style="padding: 0.75rem; border-bottom: 1px solid #ddd;">${item.name} x${item.quantity || 1}</td>
                <td style="padding: 0.75rem; border-bottom: 1px solid #ddd; text-align: right;">$${subtotal}</td>
            `;
            itemsContainer.appendChild(row);
        });
        
        totalSpan.textContent = total;
        
        const form = document.getElementById('checkout-form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const order = {
                name: form.name.value,
                phone: form.phone.value,
                address: form.address.value,
                email: form.email.value,
                payment: form.querySelector('input[name="payment"]:checked').value,
                items: cart,
                total: total,
                date: new Date().toLocaleString('vi-VN')
            };
            
            storage.set('lastOrder', order);
            storage.set('cart', []);
            
            window.location.href = 'confirmation.html';
        });
    });
    </script>
</body>
</html>